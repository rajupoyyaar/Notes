{"ast":null,"code":"import React,{useEffect,useState}from'react';import MainScreen from\"../Components/MainScreen\";import{Button,Container,Form}from'react-bootstrap';import Error from'../Components/Error';import Loading from'../Components/Loading';import{registerUser}from\"../userSlice\";import{useDispatch,useSelector}from'react-redux';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Register=()=>{const[email,setEmail]=useState(\"\");const[name,setName]=useState(\"\");const[picture,setPicture]=useState(\"\");const[password,setPassword]=useState(\"\");const[confirmPassword,setConfirmPassword]=useState(\"\");const[message,setMessage]=useState(null);const[picMessage,setPicMessage]=useState(null);const navigation=useNavigate();const dispatch=useDispatch();const{loading,error,userInfo}=useSelector(state=>state.user);console.log(\"userinfo\",userInfo);const submitHandler=async e=>{e.preventDefault();if(password!==confirmPassword){setMessage(\"Passwords do not match\");}else{setMessage(\"\");dispatch(registerUser({name,email,password,profile:picture},message));}};useEffect(()=>{if(userInfo){navigation(\"/mynotes\");}},[userInfo,navigation]);const postDeatils=pics=>{if(!pics){return setPicMessage(\"Please select an Image\");}setPicMessage(null);if(pics.type==='image/jpeg'||pics.type==='image/png'){const data=new FormData();data.append('file',pics);data.append('upload_preset','notesapp');data.append('cloud_name','deebtrhka');data.append('api_key','772489483484368');fetch(\"https://api.cloudinary.com/v1_1/deebtrhka/image/upload\",{method:\"post\",body:data}).then(res=>res.json()).then(data=>{console.log(data);setPicture(data.url.toString());}).catch(err=>{console.log(err);});}else{return setPicMessage('Select an Image');}};return/*#__PURE__*/_jsx(MainScreen,{title:\"Register\",children:/*#__PURE__*/_jsxs(Container,{children:[loading?/*#__PURE__*/_jsx(Loading,{}):\"\",message?/*#__PURE__*/_jsx(Error,{variant:\"danger\",children:message}):\"\",error?/*#__PURE__*/_jsx(Error,{children:error}):\"\",/*#__PURE__*/_jsxs(Form,{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter name\",value:name,onChange:e=>setName(e.target.value)})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email address\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",placeholder:\"Enter email\",value:email,onChange:e=>setEmail(e.target.value)})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Password\",value:password,onChange:e=>setPassword(e.target.value)})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Confirm Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Confirm Password\",value:confirmPassword,onChange:e=>setConfirmPassword(e.target.value)})]}),picMessage?/*#__PURE__*/_jsx(Error,{children:picMessage}):\"\",/*#__PURE__*/_jsxs(Form.Group,{className:\"position-relative mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Profile Picture\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"file\",name:\"file\",onChange:e=>postDeatils(e.target.files[0]),custom:true})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:\"Register\"})]})]})});};export default Register;","map":{"version":3,"names":["React","useEffect","useState","MainScreen","Button","Container","Form","Error","Loading","registerUser","useDispatch","useSelector","useNavigate","jsx","_jsx","jsxs","_jsxs","Register","email","setEmail","name","setName","picture","setPicture","password","setPassword","confirmPassword","setConfirmPassword","message","setMessage","picMessage","setPicMessage","navigation","dispatch","loading","error","userInfo","state","user","console","log","submitHandler","e","preventDefault","profile","postDeatils","pics","type","data","FormData","append","fetch","method","body","then","res","json","url","toString","catch","err","title","children","variant","onSubmit","Group","className","controlId","Label","Control","placeholder","value","onChange","target","files","custom"],"sources":["/Users/rajupoyyaar/Documents/NotesApp/frontend/src/Pages/Register.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport MainScreen from \"../Components/MainScreen\"\nimport { Button, Container, Form } from 'react-bootstrap'\nimport Error from '../Components/Error'\nimport Loading from '../Components/Loading'\nimport {registerUser} from \"../userSlice\"\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useNavigate } from 'react-router-dom'\n\nconst Register = () => {\n   const [email,setEmail] = useState(\"\")\n   const [name, setName ] = useState(\"\")\n   const [picture, setPicture] = useState(\"\")\n   const [password, setPassword] = useState(\"\")\n   const [confirmPassword, setConfirmPassword] = useState(\"\")\n   const [message, setMessage] = useState(null)\n   const [picMessage, setPicMessage] = useState(null)\n\n   const navigation = useNavigate()\n\n   const dispatch = useDispatch();\n    const { loading, error, userInfo } = useSelector((state) => state.user);\n    console.log(\"userinfo\", userInfo)\n\n   const submitHandler  = async (e)=>{\n    e.preventDefault()\n    if(password !== confirmPassword){\n      setMessage(\"Passwords do not match\")\n    }\n    else{\n      setMessage(\"\")\n      dispatch(registerUser({name,email,password,profile:picture},message))\n    }\n   }  \n\n   useEffect(()=>{\n      if(userInfo){\n        navigation(\"/mynotes\")\n      }\n   },[userInfo,navigation]) \n\n   const postDeatils = (pics)=>{\n    if(!pics){\n      return setPicMessage(\"Please select an Image\")\n    }\n    setPicMessage(null)\n    if(pics.type === 'image/jpeg' || pics.type === 'image/png'){\n      const data = new FormData()\n      data.append('file', pics)\n      data.append('upload_preset', 'notesapp')\n      data.append('cloud_name', 'deebtrhka')\n      data.append('api_key', '772489483484368')\n      fetch(\"https://api.cloudinary.com/v1_1/deebtrhka/image/upload\",{\n        method: \"post\",\n        body: data,\n      }).then((res)=>res.json()).then((data)=>{\n        console.log(data)\n        setPicture(data.url.toString())\n      }).catch((err)=>{\n        console.log(err)\n      })\n    }\n    else{\n      return setPicMessage('Select an Image')\n    }\n   }\n\n  return (\n    <MainScreen title=\"Register\">\n      <Container>\n        {loading ? <Loading /> : \"\"}\n        {message ? <Error variant=\"danger\">{message}</Error>: \"\"}\n        {error ? <Error>{error}</Error>:\"\"}\n      <Form onSubmit={submitHandler}>\n          <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\n            <Form.Label>Name</Form.Label>\n            <Form.Control type=\"text\" placeholder=\"Enter name\" value={name} onChange={(e)=>setName(e.target.value)}/>\n          </Form.Group>\n\n          <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\n            <Form.Label>Email address</Form.Label>\n            <Form.Control type=\"email\" placeholder=\"Enter email\" value={email} onChange={(e)=>setEmail(e.target.value)}/>\n          </Form.Group>\n\n          <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\n            <Form.Label>Password</Form.Label>\n            <Form.Control type=\"password\" placeholder=\"Password\" value={password} onChange={(e)=>setPassword(e.target.value)}/>\n          </Form.Group>\n\n          <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\n            <Form.Label>Confirm Password</Form.Label>\n            <Form.Control type=\"password\" placeholder=\"Confirm Password\" value={confirmPassword} onChange={(e)=>setConfirmPassword(e.target.value)}/>\n          </Form.Group>\n         \n         {picMessage ? <Error>{picMessage}</Error>: \"\"}\n          <Form.Group className=\"position-relative mb-3\">\n            <Form.Label>Profile Picture</Form.Label>\n            <Form.Control\n              type=\"file\"\n              name=\"file\"\n              onChange={(e)=>postDeatils(e.target.files[0])}\n              custom\n            />\n          </Form.Group>\n\n          <Button variant=\"primary\" type=\"submit\">\n            Register\n          </Button>\n      </Form>\n      </Container>\n    </MainScreen>\n  )\n}\n\nexport default Register"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}