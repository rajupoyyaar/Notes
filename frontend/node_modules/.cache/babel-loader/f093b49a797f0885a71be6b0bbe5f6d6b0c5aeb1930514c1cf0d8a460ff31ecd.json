{"ast":null,"code":"import React,{useEffect,useState}from'react';import MainScreen from'../Components/MainScreen';import Loading from\"../Components/Loading\";import{Accordion,Badge,Button,Card}from'react-bootstrap';import{Link}from'react-router-dom';import{useDispatch,useSelector}from\"react-redux\";import{fetchNotes,deleteNote}from'../notesSlice';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MyNotes=_ref=>{let{search}=_ref;console.log(\"search\",search);const dispatch=useDispatch();const{notes,loading,error}=useSelector(state=>state.notes);console.log(notes);const{userInfo}=useSelector(state=>state.user);useEffect(()=>{if(userInfo){dispatch(fetchNotes());}},[dispatch,userInfo]);const deleteHandler=id=>{if(window.confirm(\"Are you sure you want to delete this note?\")){dispatch(deleteNote(id));}};if(!userInfo){return/*#__PURE__*/_jsx(MainScreen,{title:\"Please log in to view your notes.\"});}return/*#__PURE__*/_jsxs(MainScreen,{title:\"Welcome back \".concat(userInfo?userInfo.name:\"\",\" \"),children:[/*#__PURE__*/_jsx(Link,{to:\"/createnote\",children:/*#__PURE__*/_jsx(Button,{size:\"lg\",style:{margin:\"10px 5px\"},children:\"Create New Notes\"})}),loading?/*#__PURE__*/_jsx(Loading,{}):\"\",/*#__PURE__*/_jsx(Accordion,{children:notes===null||notes===void 0?void 0:notes.filter(note=>note.title.toLowerCase().includes(search===null||search===void 0?void 0:search.toLowerCase())).map((note,index)=>/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Accordion.Item,{eventKey:index,children:[/*#__PURE__*/_jsxs(Card.Header,{style:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\"},children:[/*#__PURE__*/_jsx(Accordion.Header,{as:Card.Text,children:note.title}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:\"10px\"},children:[/*#__PURE__*/_jsx(Button,{href:\"/note/\".concat(note._id),children:\"Edit\"}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:()=>deleteHandler(note._id),children:\"Delete\"})]})})]}),/*#__PURE__*/_jsx(Accordion.Body,{children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(\"h4\",{children:/*#__PURE__*/_jsxs(Badge,{variant:\"success\",children:[\"Category - \",note.category]})}),/*#__PURE__*/_jsxs(\"blockquote\",{className:\"blockquote mb-0\",children:[/*#__PURE__*/_jsx(\"p\",{children:note.content}),/*#__PURE__*/_jsxs(\"footer\",{className:\"blockquote-footer\",children:[\"Created on - \",note.createdAt.substring(0,10)]})]})]})})]})}))})]});};export default MyNotes;","map":{"version":3,"names":["React","useEffect","useState","MainScreen","Loading","Accordion","Badge","Button","Card","Link","useDispatch","useSelector","fetchNotes","deleteNote","jsx","_jsx","jsxs","_jsxs","MyNotes","_ref","search","console","log","dispatch","notes","loading","error","state","userInfo","user","deleteHandler","id","window","confirm","title","concat","name","children","to","size","style","margin","filter","note","toLowerCase","includes","map","index","Item","eventKey","Header","display","justifyContent","alignItems","as","Text","gap","href","_id","variant","onClick","Body","category","className","content","createdAt","substring"],"sources":["/Users/rajupoyyaar/Documents/NotesApp/frontend/src/Pages/MyNotes.js"],"sourcesContent":["import React, {useEffect,useState} from 'react'\nimport MainScreen from '../Components/MainScreen'\nimport Loading from \"../Components/Loading\"\nimport { Accordion, Badge, Button, Card } from 'react-bootstrap'\nimport { Link } from 'react-router-dom'\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { fetchNotes, deleteNote } from '../notesSlice'\n\nconst MyNotes = ({search}) => {\n  console.log(\"search\", search)\n\n  const dispatch = useDispatch();\n    const { notes, loading, error } = useSelector((state) => state.notes);\n\n    console.log(notes)\n\n    const {userInfo} = useSelector((state)=> state.user)\n\n    useEffect(() => {\n      if(userInfo) {\n        dispatch(fetchNotes());\n      }\n    }, [dispatch, userInfo]);\n\n\n    const deleteHandler = (id) => {\n      if (window.confirm(\"Are you sure you want to delete this note?\")) {\n          dispatch(deleteNote(id));\n      }\n    };\n\n if (!userInfo) {\n  return <MainScreen title=\"Please log in to view your notes.\" />;\n}\n\n  return (\n    <MainScreen title={`Welcome back ${userInfo? userInfo.name: \"\"} `}>\n      <Link to=\"/createnote\">\n       <Button size='lg' style={{margin: \"10px 5px\"}}>Create New Notes</Button>\n      </Link>\n      {loading ? <Loading /> : \"\"}\n      <Accordion>\n      {\n        notes?.filter((note) =>\n          note.title.toLowerCase().includes(search?.toLowerCase())\n        ).map((note,index)=>(\n            <Card>\n                <Accordion.Item eventKey={index}>\n                <Card.Header style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\n                    <Accordion.Header as={Card.Text}>\n                       {note.title}\n                     </Accordion.Header>\n                        <span>\n                            <div style={{ display: \"flex\", gap: \"10px\" }}>\n                                <Button href={`/note/${note._id}`}>Edit</Button>\n                                <Button variant='danger' onClick={()=> deleteHandler(note._id)}>Delete</Button>\n                            </div>\n                        </span>\n                </Card.Header>\n                <Accordion.Body>\n                <Card.Body>\n                       <h4>\n                          <Badge variant=\"success\">\n                            Category - {note.category}\n                          </Badge>\n                       </h4>\n                        <blockquote className=\"blockquote mb-0\">\n                        <p>\n                            {note.content}\n                        </p>\n                        <footer className=\"blockquote-footer\">\n                            Created on - {note.createdAt.substring(0,10)}\n                        </footer>\n                        </blockquote>\n                </Card.Body>\n                </Accordion.Body>\n              </Accordion.Item>\n            </Card>\n        ))\n      }\n      </Accordion>\n    </MainScreen>\n  ) \n}\n\nexport default MyNotes"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,SAAS,CAACC,QAAQ,KAAO,OAAO,CAC/C,MAAO,CAAAC,UAAU,KAAM,0BAA0B,CACjD,MAAO,CAAAC,OAAO,KAAM,uBAAuB,CAC3C,OAASC,SAAS,CAAEC,KAAK,CAAEC,MAAM,CAAEC,IAAI,KAAQ,iBAAiB,CAChE,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,UAAU,CAAEC,UAAU,KAAQ,eAAe,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEtD,KAAM,CAAAC,OAAO,CAAGC,IAAA,EAAc,IAAb,CAACC,MAAM,CAAC,CAAAD,IAAA,CACvBE,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAEF,MAAM,CAAC,CAE7B,KAAM,CAAAG,QAAQ,CAAGb,WAAW,CAAC,CAAC,CAC5B,KAAM,CAAEc,KAAK,CAAEC,OAAO,CAAEC,KAAM,CAAC,CAAGf,WAAW,CAAEgB,KAAK,EAAKA,KAAK,CAACH,KAAK,CAAC,CAErEH,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC,CAElB,KAAM,CAACI,QAAQ,CAAC,CAAGjB,WAAW,CAAEgB,KAAK,EAAIA,KAAK,CAACE,IAAI,CAAC,CAEpD5B,SAAS,CAAC,IAAM,CACd,GAAG2B,QAAQ,CAAE,CACXL,QAAQ,CAACX,UAAU,CAAC,CAAC,CAAC,CACxB,CACF,CAAC,CAAE,CAACW,QAAQ,CAAEK,QAAQ,CAAC,CAAC,CAGxB,KAAM,CAAAE,aAAa,CAAIC,EAAE,EAAK,CAC5B,GAAIC,MAAM,CAACC,OAAO,CAAC,4CAA4C,CAAC,CAAE,CAC9DV,QAAQ,CAACV,UAAU,CAACkB,EAAE,CAAC,CAAC,CAC5B,CACF,CAAC,CAEJ,GAAI,CAACH,QAAQ,CAAE,CACd,mBAAOb,IAAA,CAACZ,UAAU,EAAC+B,KAAK,CAAC,mCAAmC,CAAE,CAAC,CACjE,CAEE,mBACEjB,KAAA,CAACd,UAAU,EAAC+B,KAAK,iBAAAC,MAAA,CAAkBP,QAAQ,CAAEA,QAAQ,CAACQ,IAAI,CAAE,EAAE,KAAI,CAAAC,QAAA,eAChEtB,IAAA,CAACN,IAAI,EAAC6B,EAAE,CAAC,aAAa,CAAAD,QAAA,cACrBtB,IAAA,CAACR,MAAM,EAACgC,IAAI,CAAC,IAAI,CAACC,KAAK,CAAE,CAACC,MAAM,CAAE,UAAU,CAAE,CAAAJ,QAAA,CAAC,kBAAgB,CAAQ,CAAC,CACnE,CAAC,CACNZ,OAAO,cAAGV,IAAA,CAACX,OAAO,GAAE,CAAC,CAAG,EAAE,cAC3BW,IAAA,CAACV,SAAS,EAAAgC,QAAA,CAERb,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAEkB,MAAM,CAAEC,IAAI,EACjBA,IAAI,CAACT,KAAK,CAACU,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACzB,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAEwB,WAAW,CAAC,CAAC,CACzD,CAAC,CAACE,GAAG,CAAC,CAACH,IAAI,CAACI,KAAK,gBACbhC,IAAA,CAACP,IAAI,EAAA6B,QAAA,cACDpB,KAAA,CAACZ,SAAS,CAAC2C,IAAI,EAACC,QAAQ,CAAEF,KAAM,CAAAV,QAAA,eAChCpB,KAAA,CAACT,IAAI,CAAC0C,MAAM,EAACV,KAAK,CAAE,CAAEW,OAAO,CAAE,MAAM,CAAEC,cAAc,CAAE,eAAe,CAAEC,UAAU,CAAE,QAAS,CAAE,CAAAhB,QAAA,eAC3FtB,IAAA,CAACV,SAAS,CAAC6C,MAAM,EAACI,EAAE,CAAE9C,IAAI,CAAC+C,IAAK,CAAAlB,QAAA,CAC5BM,IAAI,CAACT,KAAK,CACK,CAAC,cAChBnB,IAAA,SAAAsB,QAAA,cACIpB,KAAA,QAAKuB,KAAK,CAAE,CAAEW,OAAO,CAAE,MAAM,CAAEK,GAAG,CAAE,MAAO,CAAE,CAAAnB,QAAA,eACzCtB,IAAA,CAACR,MAAM,EAACkD,IAAI,UAAAtB,MAAA,CAAWQ,IAAI,CAACe,GAAG,CAAG,CAAArB,QAAA,CAAC,MAAI,CAAQ,CAAC,cAChDtB,IAAA,CAACR,MAAM,EAACoD,OAAO,CAAC,QAAQ,CAACC,OAAO,CAAEA,CAAA,GAAK9B,aAAa,CAACa,IAAI,CAACe,GAAG,CAAE,CAAArB,QAAA,CAAC,QAAM,CAAQ,CAAC,EAC9E,CAAC,CACJ,CAAC,EACF,CAAC,cACdtB,IAAA,CAACV,SAAS,CAACwD,IAAI,EAAAxB,QAAA,cACfpB,KAAA,CAACT,IAAI,CAACqD,IAAI,EAAAxB,QAAA,eACHtB,IAAA,OAAAsB,QAAA,cACGpB,KAAA,CAACX,KAAK,EAACqD,OAAO,CAAC,SAAS,CAAAtB,QAAA,EAAC,aACZ,CAACM,IAAI,CAACmB,QAAQ,EACpB,CAAC,CACP,CAAC,cACJ7C,KAAA,eAAY8C,SAAS,CAAC,iBAAiB,CAAA1B,QAAA,eACvCtB,IAAA,MAAAsB,QAAA,CACKM,IAAI,CAACqB,OAAO,CACd,CAAC,cACJ/C,KAAA,WAAQ8C,SAAS,CAAC,mBAAmB,CAAA1B,QAAA,EAAC,eACrB,CAACM,IAAI,CAACsB,SAAS,CAACC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,EACxC,CAAC,EACG,CAAC,EACV,CAAC,CACI,CAAC,EACH,CAAC,CACb,CACT,CAAC,CAEO,CAAC,EACF,CAAC,CAEjB,CAAC,CAED,cAAe,CAAAhD,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}