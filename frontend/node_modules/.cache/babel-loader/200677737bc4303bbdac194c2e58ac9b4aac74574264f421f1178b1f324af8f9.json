{"ast":null,"code":"import{createSlice,createAsyncThunk}from\"@reduxjs/toolkit\";import axios from'axios';const API_URL=process.env.REACT_APP_API_URL;//Async Thunks\nexport const fetchNotes=createAsyncThunk('notes/fetchNotes',async(_,thunkAPI)=>{try{var _thunkAPI$getState$us;const token=(_thunkAPI$getState$us=thunkAPI.getState().user.userInfo)===null||_thunkAPI$getState$us===void 0?void 0:_thunkAPI$getState$us.token;const config={headers:{Authorization:\"Bearer \".concat(token)}};const{data}=await axios.get(\"\".concat(API_URL,\"/notes\"),config);return data;}catch(error){var _error$response,_error$response$data;return thunkAPI.rejectWithValue(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Something went wrong');}});export const createNote=createAsyncThunk('notes/create',async(_ref,thunkAPI)=>{let{title,content,category}=_ref;try{var _thunkAPI$getState$us2;const token=(_thunkAPI$getState$us2=thunkAPI.getState().user.userInfo)===null||_thunkAPI$getState$us2===void 0?void 0:_thunkAPI$getState$us2.token;const config={headers:{Authorization:\"Bearer \".concat(token)}};const{data}=await axios.post(\"\".concat(API_URL,\"/notes/create\"),{title,content,category},config);console.log(data);return data;}catch(error){var _error$response2,_error$response2$data;return thunkAPI.rejectWithValue(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message)||\"Something went wrong\");}});export const updateNote=createAsyncThunk('notes/update',async(_ref2,thunkAPI)=>{let{id,title,content,category}=_ref2;try{var _thunkAPI$getState$us3;const token=(_thunkAPI$getState$us3=thunkAPI.getState().user.userInfo)===null||_thunkAPI$getState$us3===void 0?void 0:_thunkAPI$getState$us3.token;const config={headers:{Authorization:\"Bearer \".concat(token)}};const{data}=await axios.put(\"\".concat(API_URL,\"/notes/\").concat(id),{title,content,category},config);return data;}catch(error){var _error$response3,_error$response3$data;return thunkAPI.rejectWithValue(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.message)||'Something went wrong');}});export const deleteNote=createAsyncThunk('notes/deleteNote',async(id,thunkAPI)=>{try{var _thunkAPI$getState$us4;const token=(_thunkAPI$getState$us4=thunkAPI.getState().user.userInfo)===null||_thunkAPI$getState$us4===void 0?void 0:_thunkAPI$getState$us4.token;const config={headers:{Authorization:\"Bearer \".concat(token)}};const{data}=await axios.delete(\"\".concat(API_URL,\"/notes/\").concat(id),config);return id;// Return the ID of the deleted note\n}catch(error){var _error$response4,_error$response4$data;return thunkAPI.rejectWithValue(((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.message)||\"Something went wrong\");}});// Notes Slice\nconst notesSlice=createSlice({name:'notes',initialState:{notes:[],loading:false,error:null},reducers:{},extraReducers:builder=>{builder.addCase(fetchNotes.pending,state=>{state.loading=true;state.error=null;}).addCase(fetchNotes.fulfilled,(state,action)=>{state.loading=false;state.notes=action.payload;}).addCase(fetchNotes.rejected,(state,action)=>{state.loading=false;state.error=action.payload;})//create notes\n.addCase(createNote.pending,state=>{state.loading=true;state.error=null;}).addCase(createNote.fulfilled,(state,action)=>{state.loading=false;state.notes=[...state.notes,action.payload];}).addCase(createNote.rejected,(state,action)=>{state.loading=false;state.error=action.payload;});//update notes\nbuilder.addCase(updateNote.pending,state=>{state.loading=true;state.error=null;}).addCase(updateNote.fulfilled,(state,action)=>{state.loading=false;state.notes=state.notes.map(note=>note._id===action.payload._id?action.payload:note);}).addCase(updateNote.rejected,(state,action)=>{state.loading=false;state.error=action.payload;})//Delete Note\n.addCase(deleteNote.pending,state=>{state.loading=true;state.error=null;}).addCase(deleteNote.fulfilled,(state,action)=>{state.loading=false;state.notes=state.notes.filter(note=>note._id!==action.payload);}).addCase(deleteNote.rejected,(state,action)=>{state.loading=false;state.error=action.payload;});}});export default notesSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","API_URL","process","env","REACT_APP_API_URL","fetchNotes","_","thunkAPI","_thunkAPI$getState$us","token","getState","user","userInfo","config","headers","Authorization","concat","data","get","error","_error$response","_error$response$data","rejectWithValue","response","message","createNote","_ref","title","content","category","_thunkAPI$getState$us2","post","console","log","_error$response2","_error$response2$data","updateNote","_ref2","id","_thunkAPI$getState$us3","put","_error$response3","_error$response3$data","deleteNote","_thunkAPI$getState$us4","delete","_error$response4","_error$response4$data","notesSlice","name","initialState","notes","loading","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","rejected","map","note","_id","filter","reducer"],"sources":["/Users/rajupoyyaar/Documents/NotesApp/frontend/src/notesSlice.js"],"sourcesContent":["import {createSlice, createAsyncThunk} from \"@reduxjs/toolkit\"\nimport axios from 'axios';\n\nconst API_URL = process.env.REACT_APP_API_URL\n\n//Async Thunks\nexport const fetchNotes = createAsyncThunk(\n    'notes/fetchNotes',\n    async (_, thunkAPI) => {\n        try {\n            const token = thunkAPI.getState().user.userInfo?.token;\n            const config = {\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                },\n            };\n            const { data } = await axios.get(`${API_URL}/notes`, config);\n            return data;\n        } catch (error) {\n            return thunkAPI.rejectWithValue(error.response?.data?.message || 'Something went wrong');\n        }\n    }\n);\n\nexport const createNote = createAsyncThunk(\n    'notes/create',\n    async ({title,content,category}, thunkAPI)=>{\n        try{\n          const token = thunkAPI.getState().user.userInfo?.token;\n          const config = {\n            headers:{\n                Authorization: `Bearer ${token}`\n            }\n          }\n          const { data } = await axios.post(`${API_URL}/notes/create`, { title,content,category }, config);\n          console.log(data)\n          return data\n        }catch(error){\n            return thunkAPI.rejectWithValue(error.response?.data?.message || \"Something went wrong\")\n        }\n    }\n)\n\nexport const updateNote = createAsyncThunk(\n    'notes/update',\n    async ({ id, title, content, category }, thunkAPI) => {\n        try {\n            const token = thunkAPI.getState().user.userInfo?.token;\n            const config = {\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                },\n            };\n            const { data } = await axios.put(`${API_URL}/notes/${id}`, { title, content, category }, config);\n            return data;\n        } catch (error) {\n            return thunkAPI.rejectWithValue(error.response?.data?.message || 'Something went wrong');\n        }\n    }\n);\n\nexport const deleteNote = createAsyncThunk(\n    'notes/deleteNote',\n    async (id, thunkAPI) => {\n        try {\n            const token = thunkAPI.getState().user.userInfo?.token;\n            const config = {\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                },\n            };\n            const { data } = await axios.delete(`${API_URL}/notes/${id}`, config);\n            return id; // Return the ID of the deleted note\n        } catch (error) {\n            return thunkAPI.rejectWithValue(error.response?.data?.message || \"Something went wrong\");\n        }\n    }\n);\n\n\n\n// Notes Slice\nconst notesSlice = createSlice({\n    name: 'notes',\n    initialState: {\n        notes: [],\n        loading: false,\n        error: null,\n    },\n    reducers: {},\n    extraReducers: (builder) => {\n        builder\n            .addCase(fetchNotes.pending, (state) => {\n                state.loading = true;\n                state.error = null;\n            })\n            .addCase(fetchNotes.fulfilled, (state, action) => {\n                state.loading = false;\n                state.notes = action.payload;\n            })\n            .addCase(fetchNotes.rejected, (state, action) => {\n                state.loading = false;\n                state.error = action.payload;\n            })\n            //create notes\n            .addCase(createNote.pending, (state) => {\n                state.loading = true;\n                state.error = null;\n            })\n            .addCase(createNote.fulfilled, (state, action) => {\n                state.loading = false;\n                state.notes = [...state.notes,action.payload];\n            })\n            .addCase(createNote.rejected, (state, action) => {\n                state.loading = false;\n                state.error = action.payload;\n            })\n            //update notes\n            builder\n            .addCase(updateNote.pending, (state) => {\n                state.loading = true;\n                state.error = null;\n            })\n            .addCase(updateNote.fulfilled, (state, action) => {\n                state.loading = false;\n                state.notes = state.notes.map((note) =>\n                    note._id === action.payload._id ? action.payload : note\n                );\n            })\n            .addCase(updateNote.rejected, (state, action) => {\n                state.loading = false;\n                state.error = action.payload;\n            })\n            //Delete Note\n            .addCase(deleteNote.pending, (state) => {\n                state.loading = true;\n                state.error = null;\n            })\n            .addCase(deleteNote.fulfilled, (state, action) => {\n                state.loading = false;\n                state.notes = state.notes.filter(note => note._id !== action.payload);\n            })\n            .addCase(deleteNote.rejected, (state, action) => {\n                state.loading = false;\n                state.error = action.payload;\n            });\n\n    },\n});\n\nexport default notesSlice.reducer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}