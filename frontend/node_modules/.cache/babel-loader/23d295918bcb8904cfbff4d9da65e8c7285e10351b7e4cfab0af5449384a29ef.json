{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Form,Button,Container,Row,Col,Image}from'react-bootstrap';import{useDispatch,useSelector}from'react-redux';import{updateProfile}from'../userSlice';import'./Profile.css';import MainScreen from'../Components/MainScreen';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Profile=()=>{const dispatch=useDispatch();const{userInfo,loading,error}=useSelector(state=>state.user);const[name,setName]=useState((userInfo===null||userInfo===void 0?void 0:userInfo.name)||'');const[email,setEmail]=useState((userInfo===null||userInfo===void 0?void 0:userInfo.email)||'');const[password,setPassword]=useState('');const[profile,setProfile]=useState((userInfo===null||userInfo===void 0?void 0:userInfo.profile)||'');const navigation=useNavigate();const handleSubmit=e=>{e.preventDefault();dispatch(updateProfile({name,email,password,profile}));};useEffect(()=>{if(userInfo){setName(userInfo.name);setEmail(userInfo.email);setProfile(userInfo.profile);}},[userInfo]);const postDetails=pics=>{if(pics.type==='image/jpeg'||pics.type==='image/png'||pics.type==='image/jpg'){const data=new FormData();data.append('file',pics);data.append('upload_preset','notesapp');data.append('cloud_name','deebtrhka');data.append('api_key','772489483484368');fetch('https://api.cloudinary.com/v1_1/deebtrhka/image/upload',{method:'post',body:data}).then(res=>res.json()).then(data=>{console.log(data);setProfile(data.url.toString());}).catch(err=>{console.log(err);});}};return/*#__PURE__*/_jsx(Container,{className:\"profile-container\",children:/*#__PURE__*/_jsx(MainScreen,{title:\"Update Profile\",children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"name\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:name,onChange:e=>setName(e.target.value)})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"email\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",value:email,onChange:e=>setEmail(e.target.value)})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"password\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",value:password,onChange:e=>setPassword(e.target.value)})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"position-relative mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Profile Picture\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"file\",name:\"file\",onChange:e=>postDetails(e.target.files[0]),custom:true})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"text-danger\",children:error}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"primary\",children:loading?'Updating...':'Update Profile'})]})}),/*#__PURE__*/_jsxs(Col,{md:6,className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Current Profile\"}),profile?/*#__PURE__*/_jsx(Image,{src:profile,alt:\"Profile Picture\",roundedCircle:true,className:\"mb-3\",style:{width:'150px',height:'150px',objectFit:'cover'}}):/*#__PURE__*/_jsx(\"div\",{className:\"placeholder\",children:/*#__PURE__*/_jsx(\"p\",{children:\"No profile picture uploaded\"})}),/*#__PURE__*/_jsx(\"h5\",{children:(userInfo===null||userInfo===void 0?void 0:userInfo.name)||'No Name Provided'}),/*#__PURE__*/_jsx(\"p\",{children:(userInfo===null||userInfo===void 0?void 0:userInfo.email)||'No Email Provided'})]})]})})});};export default Profile;","map":{"version":3,"names":["React","useState","useEffect","Form","Button","Container","Row","Col","Image","useDispatch","useSelector","updateProfile","MainScreen","useNavigate","jsx","_jsx","jsxs","_jsxs","Profile","dispatch","userInfo","loading","error","state","user","name","setName","email","setEmail","password","setPassword","profile","setProfile","navigation","handleSubmit","e","preventDefault","postDetails","pics","type","data","FormData","append","fetch","method","body","then","res","json","console","log","url","toString","catch","err","className","children","title","md","onSubmit","Group","controlId","Label","Control","value","onChange","target","files","custom","variant","src","alt","roundedCircle","style","width","height","objectFit"],"sources":["/Users/rajupoyyaar/Documents/NotesApp/frontend/src/Pages/Profile.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Form, Button, Container, Row, Col, Image } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { updateProfile } from '../userSlice';\nimport './Profile.css';\nimport MainScreen from '../Components/MainScreen';\nimport { useNavigate } from 'react-router-dom';\n\nconst Profile = () => {\n    const dispatch = useDispatch();\n    const { userInfo, loading, error } = useSelector((state) => state.user);\n\n    const [name, setName] = useState(userInfo?.name || '');\n    const [email, setEmail] = useState(userInfo?.email || '');\n    const [password, setPassword] = useState('');\n    const [profile, setProfile] = useState(userInfo?.profile || '');\n\n    const navigation = useNavigate()\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        dispatch(updateProfile({ name, email, password, profile }));\n    };\n\n    useEffect(() => {\n        if (userInfo) {\n            setName(userInfo.name);\n            setEmail(userInfo.email);\n            setProfile(userInfo.profile);\n        }\n    }, [userInfo]);\n\n    const postDetails = (pics) => {\n        if (pics.type === 'image/jpeg' || pics.type === 'image/png' || pics.type === 'image/jpg') {\n            const data = new FormData();\n            data.append('file', pics);\n            data.append('upload_preset', 'notesapp');\n            data.append('cloud_name', 'deebtrhka');\n            data.append('api_key', '772489483484368');\n            fetch('https://api.cloudinary.com/v1_1/deebtrhka/image/upload', {\n                method: 'post',\n                body: data,\n            })\n                .then((res) => res.json())\n                .then((data) => {\n                    console.log(data);\n                    setProfile(data.url.toString());\n                })\n                .catch((err) => {\n                    console.log(err);\n                });\n        }\n    };\n\n    return (\n        <Container className=\"profile-container\">\n            <MainScreen title=\"Update Profile\">\n                <Row>\n                    {/* Left Column: Form */}\n                    <Col md={6}>\n                        <Form onSubmit={handleSubmit}>\n                            <Form.Group className=\"mb-3\" controlId=\"name\">\n                                <Form.Label>Name</Form.Label>\n                                <Form.Control\n                                    type=\"text\"\n                                    value={name}\n                                    onChange={(e) => setName(e.target.value)}\n                                />\n                            </Form.Group>\n                            <Form.Group className=\"mb-3\" controlId=\"email\">\n                                <Form.Label>Email</Form.Label>\n                                <Form.Control\n                                    type=\"email\"\n                                    value={email}\n                                    onChange={(e) => setEmail(e.target.value)}\n                                />\n                            </Form.Group>\n                            <Form.Group className=\"mb-3\" controlId=\"password\">\n                                <Form.Label>Password</Form.Label>\n                                <Form.Control\n                                    type=\"password\"\n                                    value={password}\n                                    onChange={(e) => setPassword(e.target.value)}\n                                />\n                            </Form.Group>\n                            <Form.Group className=\"position-relative mb-3\">\n                                <Form.Label>Profile Picture</Form.Label>\n                                <Form.Control\n                                    type=\"file\"\n                                    name=\"file\"\n                                    onChange={(e) => postDetails(e.target.files[0])}\n                                    custom\n                                />\n                            </Form.Group>\n                            {error && <div className=\"text-danger\">{error}</div>}\n                            <Button type=\"submit\" variant=\"primary\">\n                                {loading ? 'Updating...' : 'Update Profile'}\n                            </Button>\n                        </Form>\n                    </Col>\n\n                    {/* Right Column: Display Profile */}\n                    <Col md={6} className=\"text-center\">\n                        <h4>Current Profile</h4>\n                        {profile ? (\n                            <Image\n                                src={profile}\n                                alt=\"Profile Picture\"\n                                roundedCircle\n                                className=\"mb-3\"\n                                style={{ width: '150px', height: '150px', objectFit: 'cover' }}\n                            />\n                        ) : (\n                            <div className=\"placeholder\">\n                                <p>No profile picture uploaded</p>\n                            </div>\n                        )}\n                        <h5>{userInfo?.name || 'No Name Provided'}</h5>\n                        <p>{userInfo?.email || 'No Email Provided'}</p>\n                    </Col>\n                </Row>\n            </MainScreen>\n        </Container>\n    );\n};\n\nexport default Profile;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}