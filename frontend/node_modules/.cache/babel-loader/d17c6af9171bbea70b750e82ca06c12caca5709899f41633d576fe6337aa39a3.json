{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from 'axios';\nconst API_URL = \"http://localhost:5001\";\n\n//Async Thunks\nexport const fetchNotes = createAsyncThunk('notes/fetchNotes', async (_, thunkAPI) => {\n  try {\n    var _thunkAPI$getState$us;\n    const token = (_thunkAPI$getState$us = thunkAPI.getState().user.userInfo) === null || _thunkAPI$getState$us === void 0 ? void 0 : _thunkAPI$getState$us.token;\n    const config = {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    };\n    const {\n      data\n    } = await axios.get(`${API_URL}/notes`, config);\n    return data;\n  } catch (error) {\n    var _error$response, _error$response$data;\n    return thunkAPI.rejectWithValue(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Something went wrong');\n  }\n});\nexport const createNote = createAsyncThunk('notes/create', async ({\n  title,\n  content,\n  category\n}, thunkAPI) => {\n  try {\n    var _thunkAPI$getState$us2;\n    const token = (_thunkAPI$getState$us2 = thunkAPI.getState().user.userInfo) === null || _thunkAPI$getState$us2 === void 0 ? void 0 : _thunkAPI$getState$us2.token;\n    const config = {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    };\n    const {\n      data\n    } = await axios.post(`${API_URL}/notes/create`, {\n      title,\n      content,\n      category\n    }, config);\n    console.log(data);\n    return data;\n  } catch (error) {\n    var _error$response2, _error$response2$data;\n    return thunkAPI.rejectWithValue(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || \"Something went wrong\");\n  }\n});\nexport const updateNote = createAsyncThunk('notes/update', async ({\n  id,\n  title,\n  content,\n  category\n}, thunkAPI) => {\n  try {\n    var _thunkAPI$getState$us3;\n    const token = (_thunkAPI$getState$us3 = thunkAPI.getState().user.userInfo) === null || _thunkAPI$getState$us3 === void 0 ? void 0 : _thunkAPI$getState$us3.token;\n    const config = {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    };\n    const {\n      data\n    } = await axios.put(`${API_URL}/notes/${id}`, {\n      title,\n      content,\n      category\n    }, config);\n    return data;\n  } catch (error) {\n    var _error$response3, _error$response3$data;\n    return thunkAPI.rejectWithValue(((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.message) || 'Something went wrong');\n  }\n});\nexport const deleteNote = createAsyncThunk('notes/deleteNote', async (id, thunkAPI) => {\n  try {\n    var _thunkAPI$getState$us4;\n    const token = (_thunkAPI$getState$us4 = thunkAPI.getState().user.userInfo) === null || _thunkAPI$getState$us4 === void 0 ? void 0 : _thunkAPI$getState$us4.token;\n    const config = {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    };\n    const {\n      data\n    } = await axios.delete(`${API_URL}/notes/${id}`, config);\n    return id; // Return the ID of the deleted note\n  } catch (error) {\n    var _error$response4, _error$response4$data;\n    return thunkAPI.rejectWithValue(((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.message) || \"Something went wrong\");\n  }\n});\n\n// Notes Slice\nconst notesSlice = createSlice({\n  name: 'notes',\n  initialState: {\n    notes: [],\n    loading: false,\n    error: null\n  },\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(fetchNotes.pending, state => {\n      state.loading = true;\n      state.error = null;\n    }).addCase(fetchNotes.fulfilled, (state, action) => {\n      state.loading = false;\n      state.notes = action.payload;\n    }).addCase(fetchNotes.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    })\n    //create notes\n    .addCase(createNote.pending, state => {\n      state.loading = true;\n      state.error = null;\n    }).addCase(createNote.fulfilled, (state, action) => {\n      state.loading = false;\n      state.notes = [...state.notes, action.payload];\n    }).addCase(createNote.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    });\n    //update notes\n    builder.addCase(updateNote.pending, state => {\n      state.loading = true;\n      state.error = null;\n    }).addCase(updateNote.fulfilled, (state, action) => {\n      state.loading = false;\n      state.notes = state.notes.map(note => note._id === action.payload._id ? action.payload : note);\n    }).addCase(updateNote.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    })\n    //Delete Note\n    .addCase(deleteNote.pending, state => {\n      state.loading = true;\n      state.error = null;\n    }).addCase(deleteNote.fulfilled, (state, action) => {\n      state.loading = false;\n      state.notes = state.notes.filter(note => note._id !== action.payload);\n    }).addCase(deleteNote.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    });\n  }\n});\nexport default notesSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","API_URL","fetchNotes","_","thunkAPI","_thunkAPI$getState$us","token","getState","user","userInfo","config","headers","Authorization","data","get","error","_error$response","_error$response$data","rejectWithValue","response","message","createNote","title","content","category","_thunkAPI$getState$us2","post","console","log","_error$response2","_error$response2$data","updateNote","id","_thunkAPI$getState$us3","put","_error$response3","_error$response3$data","deleteNote","_thunkAPI$getState$us4","delete","_error$response4","_error$response4$data","notesSlice","name","initialState","notes","loading","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","rejected","map","note","_id","filter","reducer"],"sources":["/Users/rajupoyyaar/Documents/NotesApp/frontend/src/notesSlice.js"],"sourcesContent":["import {createSlice, createAsyncThunk} from \"@reduxjs/toolkit\"\nimport axios from 'axios';\n\nconst API_URL = \"http://localhost:5001\"\n\n//Async Thunks\nexport const fetchNotes = createAsyncThunk(\n    'notes/fetchNotes',\n    async (_, thunkAPI) => {\n        try {\n            const token = thunkAPI.getState().user.userInfo?.token;\n            const config = {\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                },\n            };\n            const { data } = await axios.get(`${API_URL}/notes`, config);\n            return data;\n        } catch (error) {\n            return thunkAPI.rejectWithValue(error.response?.data?.message || 'Something went wrong');\n        }\n    }\n);\n\nexport const createNote = createAsyncThunk(\n    'notes/create',\n    async ({title,content,category}, thunkAPI)=>{\n        try{\n          const token = thunkAPI.getState().user.userInfo?.token;\n          const config = {\n            headers:{\n                Authorization: `Bearer ${token}`\n            }\n          }\n          const { data } = await axios.post(`${API_URL}/notes/create`, { title,content,category }, config);\n          console.log(data)\n          return data\n        }catch(error){\n            return thunkAPI.rejectWithValue(error.response?.data?.message || \"Something went wrong\")\n        }\n    }\n)\n\nexport const updateNote = createAsyncThunk(\n    'notes/update',\n    async ({ id, title, content, category }, thunkAPI) => {\n        try {\n            const token = thunkAPI.getState().user.userInfo?.token;\n            const config = {\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                },\n            };\n            const { data } = await axios.put(`${API_URL}/notes/${id}`, { title, content, category }, config);\n            return data;\n        } catch (error) {\n            return thunkAPI.rejectWithValue(error.response?.data?.message || 'Something went wrong');\n        }\n    }\n);\n\nexport const deleteNote = createAsyncThunk(\n    'notes/deleteNote',\n    async (id, thunkAPI) => {\n        try {\n            const token = thunkAPI.getState().user.userInfo?.token;\n            const config = {\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                },\n            };\n            const { data } = await axios.delete(`${API_URL}/notes/${id}`, config);\n            return id; // Return the ID of the deleted note\n        } catch (error) {\n            return thunkAPI.rejectWithValue(error.response?.data?.message || \"Something went wrong\");\n        }\n    }\n);\n\n\n\n// Notes Slice\nconst notesSlice = createSlice({\n    name: 'notes',\n    initialState: {\n        notes: [],\n        loading: false,\n        error: null,\n    },\n    reducers: {},\n    extraReducers: (builder) => {\n        builder\n            .addCase(fetchNotes.pending, (state) => {\n                state.loading = true;\n                state.error = null;\n            })\n            .addCase(fetchNotes.fulfilled, (state, action) => {\n                state.loading = false;\n                state.notes = action.payload;\n            })\n            .addCase(fetchNotes.rejected, (state, action) => {\n                state.loading = false;\n                state.error = action.payload;\n            })\n            //create notes\n            .addCase(createNote.pending, (state) => {\n                state.loading = true;\n                state.error = null;\n            })\n            .addCase(createNote.fulfilled, (state, action) => {\n                state.loading = false;\n                state.notes = [...state.notes,action.payload];\n            })\n            .addCase(createNote.rejected, (state, action) => {\n                state.loading = false;\n                state.error = action.payload;\n            })\n            //update notes\n            builder\n            .addCase(updateNote.pending, (state) => {\n                state.loading = true;\n                state.error = null;\n            })\n            .addCase(updateNote.fulfilled, (state, action) => {\n                state.loading = false;\n                state.notes = state.notes.map((note) =>\n                    note._id === action.payload._id ? action.payload : note\n                );\n            })\n            .addCase(updateNote.rejected, (state, action) => {\n                state.loading = false;\n                state.error = action.payload;\n            })\n            //Delete Note\n            .addCase(deleteNote.pending, (state) => {\n                state.loading = true;\n                state.error = null;\n            })\n            .addCase(deleteNote.fulfilled, (state, action) => {\n                state.loading = false;\n                state.notes = state.notes.filter(note => note._id !== action.payload);\n            })\n            .addCase(deleteNote.rejected, (state, action) => {\n                state.loading = false;\n                state.error = action.payload;\n            });\n\n    },\n});\n\nexport default notesSlice.reducer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}